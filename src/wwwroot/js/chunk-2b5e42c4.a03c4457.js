(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b5e42c4"],{"26d3":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("h3",[e._v("设置")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#dcdfe6","active-text":"只展示未读","inactive-text":"展示全部"},on:{change:e.setIgnoreRead},model:{value:e.ignoreRead,callback:function(s){e.ignoreRead=s},expression:"ignoreRead"}}),t("hr"),t("h3",[e._v("重置密码")]),t("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"原密码"}},[t("el-input",{staticClass:"password",attrs:{type:"password"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}})],1),t("el-form-item",{attrs:{label:"新密码"}},[t("el-input",{staticClass:"password",attrs:{type:"password"},model:{value:e.newPwd,callback:function(s){e.newPwd=s},expression:"newPwd"}})],1),t("el-form-item",{attrs:{label:"确认密码"}},[t("el-input",{staticClass:"password",attrs:{type:"password"},model:{value:e.cfmNewPwd,callback:function(s){e.cfmNewPwd=s},expression:"cfmNewPwd"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.resetPassword}},[e._v("重置密码")])],1)],1)],1)},n=[],o=(t("d3b7"),t("69d9")),i=t("8237"),r=t.n(i),d={data:function(){return{newPwd:null,password:null,cfmNewPwd:null,ignoreRead:"true"==window.localStorage.getItem("ignoreRead"),user:o["a"].getUser()}},methods:{setIgnoreRead:function(){window.localStorage.setItem("ignoreRead",String(this.ignoreRead))},resetPassword:function(){this.password?this.newPwd?this.cfmNewPwd?this.newPwd!=this.password?this.newPwd==this.cfmNewPwd?fetch("https://venyo.cn/resader/user/resetpassword",{method:"POST",headers:{Authorization:"Bearer ".concat(this.user.token),"Content-Type":"application/json"},body:JSON.stringify({OldPassword:r()(this.password),Password:r()(this.newPwd),UserId:this.user.id})}).then(function(e){if(200==e.status)return e.json();401==e.status&&this.logout()}.bind(this)).then(function(e){var s=o["a"].checkResponse(e);s.result?(this.$message("密码重置成功"),setTimeout((function(){window.localStorage.removeItem("user"),window.location.href="./"}),1e3)):this.$message(s.msg)}.bind(this)):this.$message("两次新密码输入不一致"):this.$message("新密码不能与原密码一致"):this.$message("请确认新密码"):this.$message("请输入新密码"):this.$message("请输入原密码")}}},l=d,c=(t("a550"),t("2877")),w=Object(c["a"])(l,a,n,!1,null,"6f3f4c37",null);s["default"]=w.exports},a550:function(e,s,t){"use strict";var a=t("ffeb"),n=t.n(a);n.a},ffeb:function(e,s,t){}}]);
//# sourceMappingURL=chunk-2b5e42c4.a03c4457.js.map