(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb784e5c"],{"10f6":function(e,s,t){},"26d3":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("h3",[e._v("设置")]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#dcdfe6","active-text":"只展示未读","inactive-text":"展示全部"},on:{change:e.setIgnoreRead},model:{value:e.ignoreRead,callback:function(s){e.ignoreRead=s},expression:"ignoreRead"}}),t("hr"),t("h3",[e._v("重置密码")]),t("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"原密码"}},[t("el-input",{staticClass:"password",attrs:{type:"password"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}})],1),t("el-form-item",{attrs:{label:"新密码"}},[t("el-input",{staticClass:"password",attrs:{type:"password"},model:{value:e.newPwd,callback:function(s){e.newPwd=s},expression:"newPwd"}})],1),t("el-form-item",{attrs:{label:"确认密码"}},[t("el-input",{staticClass:"password",attrs:{type:"password"},model:{value:e.cfmNewPwd,callback:function(s){e.cfmNewPwd=s},expression:"cfmNewPwd"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.resetPassword}},[e._v("重置密码")])],1)],1)],1)},o=[],n=(t("d3b7"),t("69d9")),i=t("8237"),r=t.n(i),d={data:function(){return{newPwd:null,password:null,cfmNewPwd:null,ignoreRead:"true"==window.localStorage.getItem("ignoreRead"),user:n["a"].getUser()}},methods:{setIgnoreRead:function(){window.localStorage.setItem("ignoreRead",String(this.ignoreRead))},resetPassword:function(){this.password?this.newPwd?this.cfmNewPwd?this.newPwd!=this.password?this.newPwd==this.cfmNewPwd?fetch("".concat(n["a"].baseUrl,"user/resetpassword"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.user.token),"Content-Type":"application/json"},body:JSON.stringify({OldPassword:r()(this.password),Password:r()(this.newPwd),UserId:this.user.id})}).then(function(e){if(200==e.status)return e.json();401==e.status&&this.logout()}.bind(this)).then(function(e){var s=n["a"].checkResponse(e);s.result?(this.$message("密码重置成功"),setTimeout((function(){window.localStorage.removeItem("user"),window.location.href="./"}),1e3)):this.$message(s.msg)}.bind(this)):this.$message("两次新密码输入不一致"):this.$message("新密码不能与原密码一致"):this.$message("请确认新密码"):this.$message("请输入新密码"):this.$message("请输入原密码")}}},c=d,l=(t("e8cc"),t("2877")),w=Object(l["a"])(c,a,o,!1,null,"7628a527",null);s["default"]=w.exports},e8cc:function(e,s,t){"use strict";var a=t("10f6"),o=t.n(a);o.a}}]);
//# sourceMappingURL=chunk-bb784e5c.e744fbf2.js.map