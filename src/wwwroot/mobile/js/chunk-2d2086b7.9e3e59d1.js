(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("van-nav-bar",{attrs:{title:"Login"}}),t("van-form",[t("van-field",{attrs:{name:"邮箱",label:"邮箱",placeholder:"邮箱"},model:{value:e.mail,callback:function(a){e.mail=a},expression:"mail"}}),t("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.login}},[e._v(" 登录 ")])],1),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.signup}},[e._v(" 注册 ")])],1)],1)],1)},n=[],i=(t("d3b7"),t("69d9")),o=t("8237"),r=t.n(o),l=t("2b0e"),c=t("6b41"),u=t("b650"),d=t("2241"),p=t("565f"),h=t("772a");l["a"].use(c["a"]),l["a"].use(u["a"]),l["a"].use(d["a"]),l["a"].use(p["a"]),l["a"].use(h["a"]);var f={data:function(){return{mail:null,password:null}},methods:{login:function(){this.mail?this.password?fetch("https://venyo.cn/resader/user/login",{body:JSON.stringify({Mail:this.mail,Password:r()(this.password)}),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){if(200==e.status)return e.json()})).then(function(e){var a=i["a"].checkResponse(e,(function(e){switch(e){case 101:return"该邮箱尚未注册";case 102:return"密码错误"}}));a.result?(window.localStorage.setItem("user",JSON.stringify(e.data)),window.location.href="./"):Object(d["a"])({message:a.msg})}.bind(this)):Object(d["a"])({message:"请输入密码"}):Object(d["a"])({message:"请输入邮箱"})},signup:function(){this.mail?this.password?fetch("https://venyo.cn/resader/user/signup",{body:JSON.stringify({Mail:this.mail,Password:r()(this.password)}),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){if(200==e.status)return e.json()})).then((function(e){var a=i["a"].checkResponse(e,(function(e){switch(e){case 101:return"该邮箱已被注册"}}));a.result?(window.localStorage.setItem("user",JSON.stringify(e.data)),window.location.href="./"):Object(d["a"])({message:a.msg})})):Object(d["a"])({message:"请输入密码"}):Object(d["a"])({message:"请输入邮箱"})}}},m=f,b=t("2877"),w=Object(b["a"])(m,s,n,!1,null,null,null);a["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.9e3e59d1.js.map