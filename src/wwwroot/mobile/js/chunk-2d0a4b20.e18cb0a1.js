(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4b20"],{"0813":function(s,e,a){"use strict";a.r(e);var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"重置密码"}}),a("van-form",[a("van-field",{attrs:{type:"password",name:"原始密码",label:"原始密码",placeholder:"原始密码"},model:{value:s.password,callback:function(e){s.password=e},expression:"password"}}),a("van-field",{attrs:{type:"password",name:"新密码",label:"新密码",placeholder:"新密码"},model:{value:s.newPassword,callback:function(e){s.newPassword=e},expression:"newPassword"}}),a("van-field",{attrs:{type:"password",name:"确认密码",label:"确认密码",placeholder:"确认密码"},model:{value:s.cfmPassword,callback:function(e){s.cfmPassword=e},expression:"cfmPassword"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:s.reset}},[s._v(" 确定 ")])],1)],1)],1)},n=[],o=(a("d3b7"),a("69d9")),r=a("8237"),d=a.n(r),i=a("2b0e"),l=a("6b41"),c=a("b650"),w=a("2241"),u=a("565f"),p=a("772a");i["a"].use(l["a"]),i["a"].use(c["a"]),i["a"].use(w["a"]),i["a"].use(u["a"]),i["a"].use(p["a"]);var h={data:function(){return{password:null,newPassword:null,cfmPassword:null,user:o["a"].getUser()}},methods:{reset:function(){this.password?this.newPassword?this.cfmPassword?this.newPassword!=this.password?this.newPassword==this.cfmPassword?fetch("https://venyo.cn/resader/user/resetpassword",{method:"POST",headers:{Authorization:"Bearer ".concat(this.user.token),"Content-Type":"application/json"},body:JSON.stringify({OldPassword:d()(this.password),Password:d()(this.newPassword),UserId:this.user.id})}).then(function(s){if(200==s.status)return s.json();401==s.status&&this.logout()}.bind(this)).then(function(s){var e=o["a"].checkResponse(s);e.result?(Object(w["a"])({message:"密码重置成功"}),window.localStorage.removeItem("user"),window.location.href="./"):Object(w["a"])({message:e.msg})}.bind(this)):Object(w["a"])({message:"两次新密码输入不一致"}):Object(w["a"])({message:"新密码不能与原密码一致"}):Object(w["a"])({message:"请确认新密码"}):Object(w["a"])({message:"请输入新密码"}):Object(w["a"])({message:"请输入原密码"})}}},b=h,f=a("2877"),m=Object(f["a"])(b,t,n,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0a4b20.e18cb0a1.js.map